<%@ page language="java" contentType="text/html; charset=UTF-8"	pageEncoding="UTF-8"%><%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%><%@ taglib uri="http://www.springframework.org/security/tags" prefix="security" %><%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"	  xmlns:h="http://java.sun.com/jsf/html"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>TestCenter - ${company.cyclesDisplayName}</title>		<!-- Needed -->							<link rel="stylesheet" href="css/final/ui.jqgrid.css" type="text/css" />		<link rel="stylesheet" href="css/final/ui.multiselect.css" type="text/css" />		<link rel="stylesheet" href="css/final/layout-default-latest.css" type="text/css" />			<link rel="stylesheet" href="css/final/menubar.css" type="text/css" media="screen" />				<link rel="stylesheet" href="css/final/jquery-ui-1.9.1.custom.css" type="text/css" />				<!--				<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/redmond/jquery-ui.css" type="text/css" rel="Stylesheet" class="ui-theme">							<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/start/jquery-ui.css" type="text/css" rel="Stylesheet" class="ui-theme">			 -->	<!-- Needed -->		<!-- Not needed 	<link rel="stylesheet" type="text/css" href="http://layout.jquery-dev.net/lib/css/themes/base/jquery.ui.all.css">	Not needed -->			<!-- <script type="text/javascript" src="resources/js/jquery-ui-timepicker-addon.js"></script>-->	<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>   	<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.20/jquery-ui.min.js"></script>		<script type="text/javascript" src="http://layout.jquery-dev.net/lib/js/jquery.layout-latest.js"></script>	<script type="text/javascript" src="http://layout.jquery-dev.net/lib/js/jquery.layout.resizePaneAccordions-1.0.js"></script>		<script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-4.3.3/plugin/ui.multiselect.js"></script>	<script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-4.3.3/js/i18n/grid.locale-en.js"></script>       <script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-4.3.3/js/jquery.jqGrid.src.js"></script>        <script type="text/javascript">        $.jgrid.no_legacy_api = true;        $.jgrid.useJSON = true;		    </script>    <script type="text/javascript" src="http://www.ok-soft-gmbh.com/jqGrid/jquery.jqGrid-4.3.3/js/jquery.jqGrid.min.js"></script>    	<style type="text/css">	.grid .ui-jqgrid-htable th,	.grid .ui-jqgrid-btable .jqgrow td {	    height: 10em !important;	}	.ui-priority-secondary{background: #E8E8E8;}	.innerAccordian .ui-accordion-header  a	{	display: block;	font-size: 1em;	padding: .2em .5em .5em 2.2em;	}	#fieldS{		margin-left:10%;		color:#606060;		}		.ui-helper-reset {		line-height: 1.3;		font-size: 10px;		list-style: none;		color:blue;	}	.ui-widget 	{		font-family: Verdana,Arial,sans-serif;		font-size: 0.8em;	}	/* customize borders to avoid double-borders around inner-layouts */	.ui-layout-pane {		border:			0; /* override layout-default-latest.css */		border-top:		0px solid #BBB;		border-bottom:	0px solid #BBB;	}	.ui-layout-pane-north , .ui-layout-pane-south	{			border:			0px solid #BBB;		overflow:		hidden;		z-index: 3 !important;		overflow: visible !important; 	}	.ui-layout-pane-east 	{	}	.ui-layout-pane-center		{		border-left:	0;		border-right:	0;	}		.inner-center 		{			border:		0;			border-right:	0; 						padding:		0;			background:		#E8E8E8;		}		.inner-south 		{			border-top:		0px;			border-right:		0; 			border-bottom:		0; 		}		.outer-east, .outer-east .ui-layout-content { 		padding: 0;		overflow: hidden;		background-color: #EEE;	}		/* remove padding & scrolling from panes that are 'containers' for nested layouts */	.outer-center {		border:			0; /* cosmetic */		padding:		0;	}	.middle-center {		border:			0; /* cosmetic */		padding:		0;		/*overflow:		hidden;*/	}	button {		padding-left:9px;		padding-right:9px;		padding-top:2px;		padding-bottom:2px;	}	/*	 *	customize borders on panes/resizers to make pretty	 */		.ui-layout-pane-east			{ 		border-left:		0; 	}	.ui-layout-resizer-east			{		border-left:		0; 		border-right:		0; 	}		.ui-layout-pane-north			{ 		border-bottom:	0; 	}	.ui-layout-resizer-north		{ 		border-top:		1px solid #BBB; 	}		.ui-layout-pane-south			{ 		border-top:		0; 		background:		#FFF;	}	.ui-layout-resizer-south		{ 		border-top:		1px solid #BBB; 		border-bottom: 	0; 	}		/*	 *	add borders to resizers when pane is 'closed'	 *	 *.ui-layout-resizer-closed	{ border:			1px solid #BBB; }	 */	/*	 *	show both borders when the resizer is 'dragging'	 */		.ui-layout-resizer-east-dragging 	{		border-left:		1px solid #BBB;		border-right:		1px solid #BBB;	}	.ui-layout-resizer-north-dragging ,.ui-layout-resizer-south-dragging 	{		border-top:		1px solid #BBB;		border-bottom:	1px solid #BBB;	}	h3, h4 	{ 		/* Headers & Footer in Center & East panes */		font-size:		1.1em;		background:		#EEF;		border:			1px solid #BBB;		border-width:	0 0 1px;		padding:		7px 10px;		margin:			0;	}.progressBarDiv{ 	//-moz-box-shadow: 0px 0px 4px #333; 	//-webkit-box-shadow: 0px 0px 4px #333;     //box-shadow: 1px 1px 3px #333; 	-webkit-box-shadow: #999 1px 2px 3px;	-moz-box-shadow: #999 1px 1px 3px;    box-shadow: 1px 1px 2px #333; 	overflow: hidden;}.progressBarDiv:hover {	//zoom: 200%;			//.failedBar.background-color:#333;}.progressBarDivSmall{ 	//-moz-box-shadow: 0px 0px 4px #333; 	//-webkit-box-shadow: 0px 0px 4px #333;     //box-shadow: 1px 1px 3px #333; 	-webkit-box-shadow: #999 1px 2px 3px;	-moz-box-shadow: #999 1px 1px 3px;    box-shadow: 1px 1px 3px #333; 	width:100%;	display:inline-block;	}.progressBarDivSmall:hover {	//zoom: 200%;			//.failedBar.background-color:#333;}.barchartTextSmall{	vertical-align:middle;	text-align:center;	color:#ffffff;		font-size:11px;	display:inline-block;		-webkit-margin-before: 0.2em;	-webkit-margin-after: 0px;	-webkit-margin-start: 0px;	-webkit-margin-end: 0px;}.barchartText{	vertical-align:middle;	text-align:center;	color:#ffffff;		font-size:11px;	display:block;	}.completeBar {				background-color:#6eaf37; 	height:30px;	float: left;	display:inline-block; 	overflow: hidden;}.completeBar:hover {	opacity:0.7;	filter:alpha(opacity=70); /* For IE8 and earlier */	//background-color:#5dad58; 	//-moz-transform: scale(2);	//background-color:#89a54e; }.notCompleteBar {						background-color:#456e8c; 	height:30px;	float: right;	display:inline-block; 		overflow: hidden;}.notCompleteBar:hover {	opacity:0.7;	filter:alpha(opacity=70); /* For IE8 and earlier */	//background-color:#4573a7; }.passedBar {				background-color:#5dad58; 	height:30px;	float: left;	display:inline-block; 	overflow: hidden;}.passedBar:hover {	opacity:0.7;	filter:alpha(opacity=70); /* For IE8 and earlier */	//background-color:#6eaf37; 		}.notRunBar{ 			background-color:#4573a7;		height:30px;	float: left;	display:inline-block; 	overflow: hidden;}.notRunBar:hover { 			opacity:0.7;	filter:alpha(opacity=70); /* For IE8 and earlier */	//background-color:#456e8c;}.failedBar{ 		background-color:#AE3B37; 		height:30px;	float: left;	display:inline-block; 		overflow: hidden;}.failedBar:hover {	opacity:0.7;	filter:alpha(opacity=70); /* For IE8 and earlier */	//background-color:#A64E5E; }	.deferredBar {						background-color:#997db0; 	height:30px;	float: left;	display:inline-block; 	overflow: hidden;}.deferredBar:hover {	opacity:0.7;	filter:alpha(opacity=70); /* For IE8 and earlier */	//background-color:#A64E5E; }.blockedBar {						background-color:#555555; 		height:30px;	float: left;	display:inline-block; 		overflow: hidden;}.blockedBar:hover {	opacity:0.7;	filter:alpha(opacity=70); /* For IE8 and earlier */	//background-color:#A64E5E; }.inProgressBar {						background-color:#f57f1d; 	//background-color:#ff965f; 	height:30px;	float: left;	display:inline-block; 	overflow: hidden;	}.inProgressBar:hover {	opacity:0.7;	filter:alpha(opacity=70); /* For IE8 and earlier */	//background-color:#A64E5E; }.hiddencompleteBar {			height:30px;	float: left;	display:inline-block; 	}.hiddennotCompleteBar {		 	height:30px;	float: right;	display:inline-block; 		}</style>	<script type="text/javascript">$(function() {$(document).ready(function () {				// OUTER-LAYOUT		$('body').layout(		{			center__paneSelector:	".outer-center"	,				east__paneSelector:		".outer-east",					east__size:				250,			spacing_open:			8 , // ALL panes			spacing_closed:			12, // ALL panes			north__minSize:			90,					south__maxSize:			60,			south__resizable:	false,						south__closable:	false,				north__resizable:	false,						north__closable:	false,				// MIDDLE-LAYOUT (child of outer-center-pane)			center__childOptions: 			{								center__paneSelector:	".middle-center",						// INNER-LAYOUT (child of middle-center-pane)				center__childOptions: 				{					center__paneSelector:	".inner-center",					south__paneSelector:	".inner-south",							south__minSize:			20,					south__resizable:	false,								south__closable:	false,									}			}		});		$("#accordion2").accordion({fillSpace:true, active:0});			$( "#createCycle" ).button();		$( "#viewDetails" ).button();		$( "#deleteCycle" ).button();		$( "#startDatePicker" ).datepicker();		$( "#endDatePicker" ).datepicker();	      	var grid = jQuery('#report');		var subGrid = jQuery("#sub");		///////// Functions For each Row 					var functionsMapping = {			// here we define the implementations of the custom formatter which we use						"setCycleStateBarChart" : function(cellValue, opts,rowObject) {				var barChartHtml = "";									var totalTestruns  = rowObject.totalTestrunsCompleted + rowObject.totalTestrunsNotCompleted;									var totalTestrunsCompleted = rowObject.totalTestrunsCompleted;				var totalTestrunsPassed = rowObject.totalTestrunsPassed;				var totalTestrunsFailed = rowObject.totalTestrunsFailed;				var totalTestrunsDeferred = rowObject.totalTestrunsDeferred;				var totalTestrunsBlocked  = rowObject.totalTestrunsBlocked;												var totalTestrunsNotCompleted = rowObject.totalTestrunsNotCompleted;				var totalTestrunsNotRun = rowObject.totalTestrunsNotRun;				var totalTestrunsInProg = rowObject.totalTestrunsInProg;							    if(totalTestruns > 0)			    {			    	if(totalTestrunsCompleted > 0)					{					    var percentComplete = (totalTestrunsCompleted/totalTestruns) * 100;					    var percentTestrunsPassed = (totalTestrunsPassed/totalTestrunsCompleted) * 100;						var percentTestrunsFailed = (totalTestrunsFailed/totalTestrunsCompleted) * 100;						var percentTestrunsDeferred = (totalTestrunsDeferred/totalTestrunsCompleted) * 100;						var percentTestrunsBlocked  = (totalTestrunsBlocked/totalTestrunsCompleted) * 100;											}				    else					{				    	var percentComplete = 0;				    	var percentTestrunsPassed = 0;						var percentTestrunsFailed = 0;						var percentTestrunsDeferred = 0;						var percentTestrunsBlocked  = 0;											}			    				    	if(totalTestrunsNotCompleted > 0)					{					    var percentInComplete = (totalTestrunsNotCompleted/totalTestruns) * 100;					    var percentTestrunsNotRun = (totalTestrunsNotRun/totalTestrunsNotCompleted) * 100;						var percentTestrunsInProg = (totalTestrunsInProg/totalTestrunsNotCompleted) * 100;															}				    else					{				    	var percentInComplete = 0;				    	var percentTestrunsNotRun = 0;						var percentTestrunsInProg = 0;																}			    	//alert(displayTitle);			    				    	barChartHtml = "<div style='width:90%;height:20px;display:inline-block;float: left;' class='progressBarDivSmall' >";			    	if (totalTestrunsCompleted > 0 )					{					   barChartHtml = barChartHtml + "<div class='hiddencompleteBar' style='height:20px;width:"+percentComplete+"%;'>";					   if (percentTestrunsPassed > 0)					   {						   barChartHtml = barChartHtml + "<div class='passedBar' style='height:20px;width:"+percentTestrunsPassed+"%;float:left;' title='Passed : "+ Math.round(percentTestrunsPassed*100)/100 +"%'></div>";						   }					   if (percentTestrunsFailed > 0)					   {						   barChartHtml = barChartHtml + "<div class='failedBar' style='height:20px;width:"+percentTestrunsFailed+"%;float:left;' title='Failed : "+ Math.round(percentTestrunsFailed*100)/100 +"%'></div>";						   }					   if (percentTestrunsDeferred > 0)					   {						   barChartHtml = barChartHtml + "<div class='deferredBar' style='height:20px;width:"+percentTestrunsDeferred+"%;float:left;' title='Deferred : "+ Math.round(percentTestrunsDeferred*100)/100 +"%'></div>";						   }					   if (percentTestrunsBlocked > 0)					    {						   barChartHtml = barChartHtml + "<div class='blockedBar' style='height:20px;width:"+percentTestrunsBlocked+"%;float:left;' title='Blocked : "+  Math.round(percentTestrunsBlocked*100)/100+"%'></div>";							}					   barChartHtml = barChartHtml + "</div>";							}			    	if (totalTestrunsNotCompleted > 0 )					{					   barChartHtml = barChartHtml + "<div class='hiddencompleteBar' style='height:20px;width:"+percentInComplete+"%;'>";					   if (percentTestrunsNotRun > 0)					    {						   barChartHtml = barChartHtml + "<div class='notRunBar' style='height:20px;width:"+percentTestrunsNotRun+"%;float:left;' title='Not Run : "+ Math.round(percentTestrunsNotRun*100)/100 +"%'></div>";							}					   if (percentTestrunsInProg > 0)					    {						   barChartHtml = barChartHtml + "<div class='inProgressBar' style='height:20px;width:"+percentTestrunsInProg+"%;float:left;' title='In Prog : "+ Math.round(percentTestrunsInProg*100)/100 +"%'></div>";							}					  					   barChartHtml = barChartHtml + "</div>";							}				    							barChartHtml = barChartHtml + "</div>";						barChartHtml = barChartHtml +"<div style='width:10%;height:20px;display:inline-block;float: right;'>";			    	barChartHtml = barChartHtml + " "+Math.floor(percentComplete)+"%";				    	barChartHtml = barChartHtml + "</div>";			    }			    else			    {			    	barChartHtml = "No ${testrunsDisplayName}";			    }								return barChartHtml;			},			//"unSetBarChart" : function(cellValue, opts,rowObject) {			//	return cellvalue;			//},			//"setProgressBarTitle" : function(rowId, val, rowObject, cm, rdata) {			//	return 'title=" Required : ' + rowObject.regressionRequiredPercent + ' % -  Current : ' + rowObject.regressionRequiredPercent + '%"';			//},			"percentFmatter" : function percentFmatter(cellvalue, options, rowObject) {				return cellvalue + " %";			},			"unformatPercent" : function(cellvalue, options) {				return cellvalue.replace(" %", "");			},			"showImage" : function(item) {				var isAparentProject = true;				if (isAparentProject) {					return "<img src='images/ok.png' />";				} else {					return "";				}			},			"InterFinalPriceFormatter" : function(cellValue,					opts, rowObject) {				return cellValue + "Testing price formatter";			}		};		//////// End of Function 		$.ajax({			type : "GET",			url : 'cycle/ColsAndNames/${companyID}',			dataType : "json",			success : function(result)			{				var columnNames = result.colName;				var columnModel = result.colModel;				for ( var i = 0; i < columnModel.length; i++) 				{					cm = columnModel[i];					if (cm.hasOwnProperty("formatter") && functionsMapping.hasOwnProperty(cm.formatter))					{						// fix colM[i].formatter from string to the function						cm.formatter = functionsMapping[cm.formatter];					}					if (cm.hasOwnProperty("unformat") && functionsMapping.hasOwnProperty(cm.unformat)) 					{						// fix colM[i].formatter from string to the function						cm.unformat = functionsMapping[cm.unformat];					}				}					grid.jqGrid(	        	{	        		url : '${gridUrl}',	        							datatype : 'json',					mtype : "GET",					colNames : columnNames,					colModel : columnModel,						            		            //data: mydata,		            //datatype: "local",              				 	//rowNum: -1,			          		            		     //       loadonce : true, // wont sort (work) with tree grid - turn table into local data hence no refresh					altClass: 'altRow',					altRows: true,										emptyrecords : 'No Cycles',					scroll : 1,					//rownumbers: true,					//rownumWidth: 40,					//autowidth: true,					//pager : '#pager',					gridview : true,					viewrecords : true, // Total number in pager										sortable : true,					sortname : 'projectPosition',					sortorder : "DSC",					//height:'auto',						height : 600,					width : 1200,					jsonReader : {						root : "cycles",						id : "cycleID",						repeatitems : false,						page : function(obj) {return 1;},						total : function(obj) {return 1;},						records : function(obj) {return obj.cycles.length;}					},					// Single Click 					onSelectRow : function(ids) 					{						if (ids != null) 						{															subGrid.setGridParam({url : "cycle/relatedObjects/"+ ids+"${relatedObjects}"}).trigger('reloadGrid');																			//var rowData = grid.getRowData(ids);							//subGrid.setCaption(rowData['projectName']).trigger('reloadGrid');												}					},					// Double Click					ondblClickRow : function(id, rowid) 					{						var proj = grid.getRowData(id);						// TODO :: Change URL to Details View 												window.location =  '?userpath=${userpath}/'+ proj.projectID;					},   					 loadComplete: function() {					       					        var ids = grid.getDataIDs();					        for (var i = 0; i < ids.length; i++) {					            grid.setRowData ( ids[i], false, {height: 20} );					        }					        // grid.setGridHeight('auto');					    }        		});								$.extend($.jgrid.search, {multipleSearch: true, multipleGroup: true, overlay: 0});				grid.jqGrid('navGrid', '#pager', {del : false,add : false,edit : false,refresh : true}, {}, {}, {}, {					multipleSearch : true,					closeAfterSearch : true,					closeAfterReset : true,					Find : "Search Project List",					drag : true,					Reset : "Reset Project List",					caption : "Search Project List"				});				grid.jqGrid('filterToolbar', {					stringResult : true,					searchOnEnter : false				});				// Select Columns				grid.jqGrid('navButtonAdd', '#pager', {					caption : "Columns",					//buttonicon: "ui-icon-calculator", 					title : "Choose Project Columns",					onClickButton : function() {						grid.jqGrid('columnChooser');					}				});				//grid.jqGrid('excelExport',{tag:'excel', url:''});				// Test Button 				jQuery("#viewDetails").click(function() 				{					var id = grid.jqGrid('getGridParam','selrow');					if (id) 					{						//window.location = '/Clients/Details/'+ id;						//var proj= grid.jqGrid('getRowData',id);						//jQuery("#dialog-modal" ).dialog( "open" );						window.location =  '?userpath=${userpath}>'+ id;						//alert("Project ID="+proj.projectID+" Project ID="+proj.projectName+"...");					} 					else 					{						//alert("Please select row");					}				});								jQuery("#searchTable").click( function(){					grid.jqGrid('searchGrid', {multipleSearch:true, overlay: false});					//$("#search_report").trigger('click');							});				jQuery("#columnSelector").click( function(){					grid.jqGrid('columnChooser');							});				jQuery("#refreshTable").click( function(){					grid.trigger('reloadGrid');						subGrid.trigger('reloadGrid');					});				///$("#method").jqGrid('getGridParam',"records"));				subGrid.jqGrid(						{							//caption : "Project:",							height : '100%',							width : 200,							datatype : "json",							colNames : ['Related object',	'Value' , 'RO_Name','RO_ID'],							colModel : [											{												name : 'relatedObjectName',												width : 20,												jsonmap:"relatedObjectName",												sortable : true											},											{												name : 'relatedObjectValue',												width : 10,												align : 'center',												sortable : true,												resizable : true,												search : true,												jsonmap:"relatedObjectValue",												sorttype : 'number'																					},											{												name : 'relatedObjectPathName',																					jsonmap:"relatedObjectPathName",												hidden : true											},											{												name : 'relatedObjectPathID',																						jsonmap:"relatedObjectPathID",												hidden : true											}										],							//rowNum: 5,							//rowList: [5, 10, 20],							//pager : jQuery('#subpager'),							//datatype: "local",              						 	//rowNum: -1,			          		            				           // loadonce : true,							sortname: 'relatedobjectID',							scroll : 1,							emptyrecords : '0',							autoload:false,							viewrecords : true,							sortorder: "ASC",							jsonReader : 							{								root : "relatedObjects",								id : "relatedobjectID",								repeatitems : false,								page : function(obj) {return 1;},								total : function(obj) {return 1;},								records : function(obj) {return obj.relatedObjects.length;}							},							ondblClickRow : function(rowId)							{					    								var projRow = subGrid.getRowData(rowId);								//alert("1 : "+projRow.relatedObjectPathName);																				window.location =  '?userpath=${userpath}>'+ projRow.relatedObjectPathID+'>'+projRow.relatedObjectPathName;							},						});									},						error : function(jqXHR, textStatus, errorThrown)			{			    alert(textStatus+" + "+errorThrown);			}    	});	});$('.ui-jqgrid-titlebar-close', '#report').remove();$("#viewDetails").button();$("#deleteProject").button();$("#accordion").accordion({	autoHeight:true,	icons:{ "header": "ui-icon-triangle-1-e", "headerSelected": "ui-icon-triangle-1-s"}	 });///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// Varibles var cycleName = $("#cycleName"), projectID = $("#projectID"); var startDatePicker = $("#startDatePicker"), endDatePicker = $("#endDatePicker");var allFields = $([]).add(cycleName).add(startDatePicker).add(endDatePicker);var tips = $(".validateTips");// End of Varibles 		//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// Create Project Dialog Validation function updateTips(t) {	tips.text(t).addClass("ui-state-highlight");	/*setTimeout(function() {		tips.removeClass( "ui-state-highlight", 1500 );	}, 500 );*/}function checkRange(o, n, min, max) {	var value = parseInt(o.val(), 10);	//alert(o.val()+ " : "+ min + " to " + max);	if (value >= min && value <= max) {		return true;	} else {		o.addClass("ui-state-error");				updateTips(n + " must be between " + min + " and " + max + ".");		return false;	}}function checkLength(o, n, min, max) {	if (o.val().length > max || o.val().length < min) {		o.addClass("ui-state-error");		updateTips("Length of " + n + " must be between " + min				+ " and " + max + ".");		return false;	} else {		return true;	}}function checkRegexp(o, regexp, n) {	if (!(regexp.test(o.val()))) {		o.addClass("ui-state-error");		updateTips(n);		return false;	} else {		return true;	}}// End of Create Project Dialog Validation		//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// Create Project Dialog $("#dialog-form")		.dialog(				{					autoOpen : false,					height : 330,					width : 510,					modal : true,					buttons : {						"Create" : function() {							var bValid = true;							allFields.removeClass("ui-state-error");							bValid = bValid && checkLength(cycleName, "Cycle Name", 3, 32);							if (bValid) {																// Create New Project using Ajax								$.post("cycle/add", {									projectID : projectID.val(),									cycleName : cycleName.val(),									cycleStartDate : startDatePicker.val(),									cycleEndDate : endDatePicker.val(),																	}, function(result) {									if (result == 'ok') {										$("#dialog-form").dialog("close");										$("#report").trigger("reloadGrid");										//$entityList0.trigger("reloadGrid", [{page:1}]);**										//window.location.reload();									} else {										updateTips(result);									}								});							}						},						Cancel : function() {							$(this).dialog("close");						}					}, open: function(){// 	$("#dialog-form").keypress(function(e) // 	{// 		if (e.keyCode == $.ui.keyCode.ENTER) // 		{// 			$(this).parent().find("button:eq(0)").trigger("click");// 		}// 	 });},					close : function() {						allFields.val("").removeClass("ui-state-error");					}				});// End of Create Project Dialog 	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// Create Project Dialog Button$("#createCreate").button().click(function() {	$("#dialog-form").dialog("open");});$("#deleteCycle").click(function(){ 	 // Get the currently selected row    toDelete = jQuery('#report').jqGrid('getGridParam','selrow');	    // You'll get a pop-up confirmation dialog, and if you say yes,    // it will call "delete.php" on your server.    jQuery('#report').jqGrid('delGridRow',toDelete, { url: 'cycle/delete',    height:200,	reloadAfterSubmit:false,	afterSubmit:function(data,postd){		console.log(data);		console.log(postd);		return {0:true};	},	afterComplete:function(data,postd){		//window.location.reload();		return true;	},				msg: "Are you sure you want to Delete\n Cycle "+toDelete+" \n and all its associated Data?"});   });// End of Create Project Dialog Button	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////});//]]></script></head><body><!--	 ******************************************************************************************************************	 ************************************              Center objects           *****************************************	 ******************************************************************************************************************--><div class="outer-center">		<div class="middle-center">		<div class="inner-center" >			<div style="font-size:10px; padding-bottom:4px;padding-top:0px;padding-left:6px" >							${breadCrumb} 			</div>			<!--<h3 class="ui-widget-header" style="height: 10px; font-size:12px; padding-top: 2px;">Projects</h3>-->			<div style="left:800px;padding-right:10px;background:#FFF;" align="right"> 									<img id="refreshTable" style="cursor:pointer" src="images/refresh.jpg" /> 					&nbsp;&nbsp;					<img id="searchTable" style="cursor:pointer" src="images/search.jpg" /> 					&nbsp;&nbsp;					<img id="columnSelector" style="cursor:pointer" src="images/column.jpg" /> 							</div>						<div class="ui-layout-content ui-widget-content">				<div id="grid_container">									<table id="report"></table>					<div id="pager"></div>									</div>			</div>			<!--				 ******************************************************************************************************************				 ************************************              Button objects           *****************************************				 ******************************************************************************************************************			-->			<div style="padding-left:5px; padding-top:5px; padding-bottom:5px;">							<c:if test="${not empty company.projects}"> 					<button id="createCreate">Create</button>					</c:if>					<button id="deleteCycle">Delete</button>					<button id="viewDetails">View Details</button>							</div>		</div>		</div></div><!--	 ******************************************************************************************************************	 ************************************              EAST objects           *****************************************	 ******************************************************************************************************************--><!--	 ******************************************************************************************************************	 ************************************        Accordion     *****************************************	 ******************************************************************************************************************--><div class="outer-east">	<div class="ui-layout-content">		<div id="accordion2" class="basic" >		<h3 style="height: 30px; font-size:12px; padding-top: 4px;"><a href="#">Related Objects</a></h3>			<div style="background:#FFF;">									<table id="sub"></table>				<div id="subpager"></div>			</div><h3 style="height: 30px; font-size:12px; padding-top: 4px;"><a href="#">Quick Tasks</a></h3>			<div>					<fieldset style="width:90%;">				  <legend>${company.testLibraryDisplayName}:</legend>					<div id="fieldS" >						<a href="#">Create ${company.testplanDisplayName} </a><br/>						<a href="#">Execute ${company.testplanDisplayName} </a><br/>						<a href="#">Edit ${company.testplanDisplayName}</a> <br/>						<a href="#">Delete ${company.testplanDisplayName} </a><br/><br/>												<a href="#">Create ${company.testcaseDisplayName} </a><br/>						<a href="#">Execute ${company.testcaseDisplayName} </a><br/>						<a href="#">Edit ${company.testcaseDisplayName}</a> <br/>						<a href="#">Delete ${company.testcaseDisplayName} </a><br/><br/>											<a href="#">Create ${company.testrunDisplayName} </a><br/>						<a href="#">Execute ${company.testrunDisplayName} </a><br/>						<a href="#">Edit ${company.testrunDisplayName}</a> <br/>						<a href="#">Delete ${company.testrunDisplayName} </a><br/>											</div>				</fieldset>				<fieldset style="width:90%;">				  <legend>${company.defectDisplayName}:</legend>					<div id="fieldS" >						<a href="#">Create ${company.defectDisplayName} </a><br/>						<a href="#">Edit ${company.defectDisplayName}</a> <br/>						<a href="#">Delete ${company.defectDisplayName} </a><br/>					</div>				</fieldset>				<fieldset style="width:90%;">				  <legend>${company.requirementDisplayName}:</legend>					<div id="fieldS" >						<a href="#">Create ${company.requirementDisplayName} </a><br/>						<a href="#">Edit ${company.requirementDisplayName}</a> <br/>						<a href="#">Delete ${company.requirementDisplayName} </a><br/>					</div>				</fieldset>				<fieldset style="width:90%;">				  <legend>${company.environmentsDisplayName}:</legend>					<div id="fieldS" >						<a href="#">Create ${company.environmentDisplayName} </a><br/>						<a href="#">Edit ${company.environmentDisplayName}</a> <br/>						<a href="#">Delete ${company.environmentDisplayName} </a><br/>					</div>				</fieldset>				<fieldset style="width:90%;">				  	<legend>${company.usersDisplayName}:</legend>				  	<div id="fieldS" >						<a href="#">Create ${company.userDisplayName}</a><br/>						<a href="#">Edit ${company.userDisplayName} </a><br/>						<a href="#">Delete ${company.userDisplayName} </a><br/>					</div>				</fieldset>				<fieldset style="width:90%;">					<legend>${company.cyclesDisplayName}:</legend>					<div id="fieldS" >						<a href="#">Create ${company.cycleDisplayName}</a> <br/>						<a href="#">Edit ${company.cycleDisplayName}</a> <br/>						<a href="#">Delete ${company.cycleDisplayName}</a> <br/>					</div>				</fieldset>			</div>					<h3 style="height: 30px; font-size:12px; padding-top: 4px;"><a href="#">Reports</a></h3>			<div>							</div>			<h3 style="height: 30px; font-size:12px; padding-top: 4px;"><a href="#">Section 4</a></h3>			<div>							</div>					</div>	</div></div><!--	 ******************************************************************************************************************	 ************************************         End of accordion     *****************************************	 ******************************************************************************************************************--><!--	 ******************************************************************************************************************	 ************************************              north header             *****************************************	 ******************************************************************************************************************--><div class="ui-layout-north ui-widget-content" style="display: none;"><!--	 ******************************************************************************************************************	 ************************************         Nav bar     *****************************************	 ******************************************************************************************************************--><table style="width:100%;">	<tr>		<td align="left" style="width:50%;color:#456e8c;">			<a href="index.html"><img style="height:25px;" src ="images/title.png" /></a>				</td>		<td align="right" style="width:50%;color:#456e8c;" valign="middle">			${companyName}				&nbsp; <a href="editcompany.html?companyID=${company.companyID}"><img height="15" width="15" src="images/settings.png" title="Edit Company Settings" /></a>			&nbsp; <a href="viewbill.html?companyID=${company.companyID}"><img height="15" width="15" src="images/money.png" title="View Resource Bill"/></a>			&nbsp; <a href="logout.html"><img height="15" width="15" src="images/exit.png" title="Logout"/></a>			&nbsp; &nbsp; 		</td>	</tr>	<tr>		<td colspan="2">		<!--			 ******************************************************************************************************************			 ************************************         Nav bar     *****************************************			 ******************************************************************************************************************		-->			<ul id="menu">			    <li style="padding-left:30px"><a href="index.html" >Home</a><!-- Begin Home Item --></li><!-- End Home Item --> 			    <li><a href="?userpath=${fn:replace(projectsDisplayName,' ', '')}" class="drop">${projectsDisplayName}</a><!-- Begin 4 columns Item --></li><!-- End 5 columns Item -->    				    <li><a href="?userpath=${fn:replace(reportsDisplayName,' ', '')}" class="drop">${reportsDisplayName}</a><!-- Begin 4 columns Item --> </li><!-- End 4 columns Item -->								<li><a href="?userpath=${fn:replace(defectsDisplayName,' ', '')}" class="drop">${defectsDisplayName}</a><!-- Begin 4 columns Item --></li><!-- End 4 columns Item -->			    <li><a href="?userpath=${fn:replace(cyclesDisplayName,' ', '')}" class="drop">${cyclesDisplayName}</a><!-- Begin 4 columns Item --></li><!-- End 4 columns Item -->			   	<li><a href="?userpath=${fn:replace(testLibraryDisplayName,' ', '')}" class="drop">${testLibraryDisplayName}</a>			   	 <div class="dropdown_3columns align_right">  			            <div class="col_3">			           		<table>							<tr>								<td rowspan="2">									<a href="?userpath=${fn:replace(testplansDisplayName,' ', '')}">										<img src="images/testplan.jpg" width="70" height="70" class="img_left imgshadow" alt="" />										</a>								</td>								<td>									<a href="?userpath=${fn:replace(testplansDisplayName,' ', '')}"><b>${testplansDisplayName}</b></a>								</td>							</tr>							<tr>								<td>									<p>						                Contains a List of all ${testplansDisplayName} for this company. A ${testplanDisplayName} is a container for one or multiple ${testcasesDisplayName}						            </p>								</td>								   							</tr>													</table>							<table>							<tr>								<td rowspan="2">									<a href="?userpath=${fn:replace(testcasesDisplayName,' ', '')}">										<img src="images/testcase.jpg" width="70" height="70" class="img_left imgshadow" alt="" />										</a>								</td>								<td>									<a href="?userpath=${fn:replace(testcasesDisplayName,' ', '')}"><b>${testcasesDisplayName}</b></a>								</td>							</tr>							<tr>								<td>									<p>						               Contains a List of all ${testcasesDisplayName} for this company. A ${testcaseDisplayName} is used to examine an aspect of a specific requirement for a given environment				           </p>								</td>								   							</tr>													</table>									<table>							<tr>								<td rowspan="2">									<a href="?userpath=${fn:replace(testrunsDisplayName,' ', '')}">										<img src="images/testrun.png" width="70" height="70" class="img_left imgshadow" alt="" />										</a>								</td>								<td>									<a href="?userpath=${fn:replace(testrunsDisplayName,' ', '')}"><b>${testrunsDisplayName}</b></a>								</td>							</tr>							<tr>								<td>									<p>						               Contains a List of all ${testrunsDisplayName} for this company. A ${testrunDisplayName} is the result of executing a ${testcaseDisplayName} for a specified ${cycleDisplayName}				           			</p>								</td>								   							</tr>													</table>										            </div>			        			        </div>			   	</li><!-- End 4 columns Item -->						<li><a href="?userpath=${fn:replace(requirementsDisplayName,' ', '')}" class="drop">${requirementsDisplayName}</a></li><!-- End 4 columns Item -->   				<li><a href="?userpath=${fn:replace(usersDisplayName,' ', '')}" class="drop">${usersDisplayName}</a> </li><!-- End 4 columns Item -->    				<li><a  href="?userpath=${fn:replace(environmentsDisplayName,' ', '')}" class="drop">${environmentsDisplayName}</a></li>   			</ul>		</td>	</tr></table><!--	 ******************************************************************************************************************	 ************************************         End of Nav bar     *****************************************	 ******************************************************************************************************************--></div><!--	 ******************************************************************************************************************	 ************************************         End of north header         *****************************************	 ******************************************************************************************************************--><!--	 ******************************************************************************************************************	 ************************************            South Footer             *****************************************	 ******************************************************************************************************************--><div class="ui-layout-south" style=""><table style="width:100%">	<tr>		<td style="width:50%">			User : Kenneth		</td>		<td style="width:50%">			Role : Tester		</td>	</tr></table></div><!--	 ******************************************************************************************************************	 ************************************           New Cycle             *****************************************	 ******************************************************************************************************************-->	<div id="dialog-form" title="Create new ${company.cycleDisplayName}">		<p class="validateTips">All form fields are required.</p>		<form>			<fieldset>				<table width="100%" border="0" >					<tr>						<td colspan="2" valign="top">							<table width="100%">								<tr>									<td valign="top"><label for="cycleName"										style="float: left;">${company.cycleDisplayName} Name :</label></td>									<td><input type="text" name="cycleName" id="cycleName"										style="width: 200px; display: inline-block; float: left;"										class="text ui-widget-content ui-corner-all" />																													</td>								</tr>							</table>						</td>					</tr>					<tr>						<td colspan="2">							<hr />						</td>					</tr>					<tr>						<td colspan="2">						    <c:choose>								<c:when test="${allCompanyProjects}">																<select name="projectID" id="projectID">										<c:forEach var="projectInfo" items="${projects}"											varStatus="index">											<option value="${projectInfo.projectID}">${projectInfo.projectName}</option>										</c:forEach>									</select>								</c:when>								<c:otherwise>								    <input type="hidden" name="projectID" id="projectID" value="${projects.projectID}" />							        ${projects.projectName}							    </c:otherwise>							</c:choose>						</td>					</tr>					<tr>						<td colspan="2">							<hr />						</td>					</tr>					<tr>						<td valign="top">							<table width="100%" border="0" cellpadding="5px">								<tr>									<td >									<fieldset><legend>Start Date</legend>									  <input type="text" id="startDatePicker"  />									</fieldset>									</td>									<td>									<fieldset><legend>End Date</legend>									  <input type="text" id="endDatePicker" />									</fieldset>										</td>																								</tr>																												</table>						</td>					</tr>				</table>							</fieldset>		</form>	</div></body></html>